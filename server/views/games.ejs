<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>MyGame control</title>
</head>
<body>
<h1>Startkicker<% if (typeof username !== 'undefined') { %> - Welcome <%=
    username %><% } %></h1>
<table border=1 cellpadding=5>
  <tr>
    <th>Function</th>
    <th>Description</th>
    <th>Endpoint</th>
    <th>Permissions</th>
    <th>Roles</th>
    <th>Information</th>
  </tr>
  <tr>
    <td><a href="/api/games/list-games">List games</a></td>
    <td>Anyone can list public game info</td>
    <td>GET /api/games/list-games</td>
    <td>$everyone, $unauthenticated, $authenticated</td>
    <td>Guest, owner, administrator</td>
    <td>This endpoint is a remote method with a static ACL set to allow
      access for all users (using the built-in role $everyone).</td>
  </tr>
  <tr>
    <td><a href="/api/games<% if (typeof accessToken !== 'undefined') {
      %>?access_token=<%= accessToken %><% } %>">View all
        games</a></td>
    <td>Only administrators can view all games</td>
    <td>GET /api/games</td>
    <td>admin</td>
    <td>Administator</td>
    <td>This REST endpoint is generated from the `slc loopback:model`
      command.  We create a custom role named "admin" and a role mapping to
      set Bob as a "admin". We then apply the ACL to restrict access to only
      admins via the `slc loopback:acl` command.</td>
  </tr>
  <tr>
    <td><a href="/api/games/1<% if (typeof accessToken !== 'undefined')
      { %>?access_token=<%= accessToken %><% } %>">Show game 1</a></td>
    <td>Shows all fields for game 1</td>
    <td>GET /api/games/1</td>
    <td>$owner</td>
    <td>owner</td>
    <td>Also a built-in REST endpoint generated from the `slc
      loopback:model` command. We register a custom role resolver here and
      use the provided access token to figure out if the request is from a
      team member and provide or deny access accordingly.</td>
  </tr>
  <tr>
    <td><a href="/api/renwus/list-renwu">三国人物</a></td>
    <td>Anyone can list public renwu info</td>
    <td>GET /api/renwus/list-renwu</td>
    <td>$everyone, $unauthenticated, $authenticated</td>
    <td>Guest, owner, administrator</td>
    <td>This endpoint is a remote method with a static ACL set to allow
      access for all users (using the built-in role $everyone).</td>
  </tr>
  <tr>
    <td colspan=6><a href="/logout<% if (typeof accessToken !==
        'undefined') { %>?access_token=<%= accessToken %><% } %>">Log
        out</a></td>
  </tr>
</table>
</body>
</html>
